import{b as zt,d as me,p as ge,c as $,a,f as L,t as q}from"../chunks/CeFSxQbd.js";import{t as K,y as At,J as Kt,V as he,al as $e,z as Lt,ab as xe,am as be,an as ye,ao as Pe,O as ke,a6 as it,h as rt,g as t,s as F,p as bt,f as l,a as yt,c as i,C as we,r as n,ag as De,b as ht,ap as Ce,d as r,aq as Oe,$ as Se,n as A}from"../chunks/BRtkYQ1n.js";import{e as Be,s as p}from"../chunks/E6HBHZWA.js";import{p as G,i as I,r as Ht,c as O,s as Te}from"../chunks/B9s1PaqY.js";import{c as Ee,d as Ie,g as Ne,h as Me,e as qt,i as Ut}from"../chunks/Dccx3I4d.js";import{a as Re,s as ze}from"../chunks/CIQlyMqn.js";import{p as Ae}from"../chunks/DaDaNdxn.js";import{g as Ke}from"../chunks/DBs4nQ8k.js";import{B as Le,a as at}from"../chunks/BsOpdwLl.js";import{C as $t,a as xt,b as Vt,c as Wt}from"../chunks/BicKaw8c.js";import{a as jt}from"../chunks/C7_CdJMd.js";import{a as qe,b as Ue,c as Ve,d as We,e as nt,m as je}from"../chunks/foRtJKEw.js";import{K as Fe}from"../chunks/CGhx1tZe.js";function Ft(U,s,S=!1,N=!1,V=!1){var e=U,x="";K(()=>{var b=he;if(x===(x=s()??"")){At&&Kt();return}if(b.nodes!==null&&($e(b.nodes.start,b.nodes.end),b.nodes=null),x!==""){if(At){Lt.data;for(var _=Kt(),B=_;_!==null&&(_.nodeType!==xe||_.data!=="");)B=_,_=be(_);if(_===null)throw ye(),Pe;zt(Lt,B),e=ke(_);return}var y=x+"";S?y=`<svg>${y}</svg>`:N&&(y=`<math>${y}</math>`);var w=me(y);if((S||N)&&(w=it(w)),zt(it(w),w.lastChild),S||N)for(;it(w);)e.before(it(w));else e.before(w)}})}const He=Ve({component:"separator",parts:["root"]});class Pt{static create(s){return new Pt(s)}opts;attachment;constructor(s){this.opts=s,this.attachment=qe(s.ref)}#t=rt(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":this.opts.orientation.current,"aria-hidden":Ue(this.opts.decorative.current),"data-orientation":this.opts.orientation.current,[He.root]:"",...this.attachment}));get props(){return t(this.#t)}set props(s){F(this.#t,s)}}var Je=L("<div><!></div>");function Ye(U,s){const S=ge();bt(s,!0);let N=G(s,"id",19,()=>We(S)),V=G(s,"ref",15,null),e=G(s,"decorative",3,!1),x=G(s,"orientation",3,"horizontal"),b=Ht(s,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const _=Pt.create({ref:nt(()=>V(),D=>V(D)),id:nt(()=>N()),decorative:nt(()=>e()),orientation:nt(()=>x())}),B=rt(()=>je(b,_.props));var y=$(),w=l(y);{var st=D=>{var M=$(),X=l(M);jt(X,()=>s.child,()=>({props:t(B)})),a(D,M)},Q=D=>{var M=Je();Ee(M,()=>({...t(B)}));var X=i(M);jt(X,()=>s.children??we),n(M),a(D,M)};I(w,D=>{s.child?D(st):D(Q,!1)})}a(U,y),yt()}function Ge(U,s){bt(s,!0);let S=G(s,"ref",15,null),N=G(s,"data-slot",3,"separator"),V=Ht(s,["$$slots","$$events","$$legacy","ref","class","data-slot"]);var e=$(),x=l(e);{let b=rt(()=>Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:min-h-full data-[orientation=vertical]:w-px",s.class));O(x,()=>Ye,(_,B)=>{B(_,Te({get"data-slot"(){return N()},get class(){return t(b)}},()=>V,{get ref(){return S()},set ref(y){S(y)}}))})}a(U,e),yt()}var Qe=L('<div class="text-center py-12 text-muted-foreground">Loading...</div>'),Xe=L('<div class="text-center py-12 text-destructive"> </div>'),Ze=L('<div class="flex flex-wrap gap-2"><!> <!> <!></div>'),ta=L('<div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-1 text-sm mb-5 pb-5 border-b border-border"><div><span class="text-muted-foreground">Type:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Module:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Workstream:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Severity:</span> <span class="ml-1.5"> </span></div></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-4"><div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Owner</div> <div class="text-base font-medium"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Detected By</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Created</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Modified</div> <div class="text-base"> </div></div></div>',1),ea=L("<!> <!>",1),aa=L("<!> <!>",1),ra=L('<div class="mb-8"><div class="text-muted-foreground mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-2 mb-3"><!> <!></div> <!></div> <!> <!> <!> <!> <div class="text-sm text-muted-foreground"><p>Press <kbd class="px-2 py-1 bg-muted rounded">Esc</kbd> to return to list</p></div>',1),sa=L('<div class="container mx-auto px-4 py-8 max-w-4xl"><!> <!></div> <!>',1);function ha(U,s){bt(s,!0);const S=()=>Re(Ae,"$page",N),[N,V]=ze();let e=ht(null),x=ht(!0),b=ht(null);function _(o){return o?new Date(o).toISOString().replace("T"," ").slice(0,19):"-"}function B(o){return o?o.includes("_")?o.split("_")[0]:o:"-"}function y(o){return o?o.includes("1")?"destructive":o.includes("2")?"secondary":"outline":"outline"}function w(o){o.key==="Escape"&&Ke("/")}De(()=>{const o=parseInt(S().params.id);if(isNaN(o)){F(b,"Invalid defect ID"),F(x,!1);return}Ne(o).then(C=>{F(e,C,!0),F(x,!1)}).catch(C=>{F(b,C instanceof Error?C.message:"Failed to load defect",!0),F(x,!1)})});var st=sa();Be("keydown",Oe,w),Me("11q6om9",o=>{Ce(()=>{Se.title=`${t(e)?`#${t(e).id}: ${t(e).name}`:"Loading..."} - ALM Defects`})});var Q=l(st),D=i(Q);Le(D,{variant:"ghost",href:"/",class:"mb-6",children:(o,C)=>{A();var dt=q("â† Back to list");a(o,dt)},$$slots:{default:!0}});var M=r(D,2);{var X=o=>{var C=Qe();a(o,C)},Jt=o=>{var C=$(),dt=l(C);{var Gt=H=>{var J=Xe(),lt=i(J,!0);n(J),K(()=>p(lt,t(b))),a(H,J)},Qt=H=>{var J=$(),lt=l(J);{var Xt=vt=>{var kt=ra(),ct=l(kt),ft=i(ct),Zt=i(ft);n(ft);var ut=r(ft,2),te=i(ut,!0);n(ut);var _t=r(ut,2),wt=i(_t);{let c=rt(()=>t(e).status==="Open"?"default":"secondary");at(wt,{get variant(){return t(c)},children:(m,T)=>{A();var P=q();K(()=>p(P,t(e).status||"Unknown")),a(m,P)},$$slots:{default:!0}})}var ee=r(wt,2);{let c=rt(()=>y(t(e).priority));at(ee,{get variant(){return t(c)},children:(m,T)=>{A();var P=q();K(()=>p(P,t(e).priority||"No priority")),a(m,P)},$$slots:{default:!0}})}n(_t);var ae=r(_t,2);{var re=c=>{var m=Ze(),T=i(m);{var P=d=>{at(d,{variant:"destructive",children:(k,g)=>{A();var v=q();K(f=>p(v,`Blocks: ${f??""}`),[()=>t(e).blocks.join(", ")]),a(k,v)},$$slots:{default:!0}})};I(T,d=>{t(e).blocks&&t(e).blocks.length>0&&d(P)})}var R=r(T,2);{var W=d=>{var k=$(),g=l(k);qt(g,17,()=>t(e).scenarios,Ut,(v,f)=>{at(v,{variant:"secondary",children:(E,h)=>{A();var u=q();K(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(R,d=>{t(e).scenarios&&t(e).scenarios.length>0&&d(W)})}var Z=r(R,2);{var z=d=>{var k=$(),g=l(k);qt(g,17,()=>t(e).integrations,Ut,(v,f)=>{at(v,{variant:"outline",class:"text-blue-400",children:(E,h)=>{A();var u=q();K(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(Z,d=>{t(e).integrations&&t(e).integrations.length>0&&d(z)})}n(m),a(c,m)};I(ae,c=>{(t(e).scenarios&&t(e).scenarios.length>0||t(e).blocks&&t(e).blocks.length>0||t(e).integrations&&t(e).integrations.length>0)&&c(re)})}n(ct);var Dt=r(ct,2);O(Dt,()=>xt,(c,m)=>{m(c,{class:"mb-8",children:(T,P)=>{var R=$(),W=l(R);O(W,()=>$t,(Z,z)=>{z(Z,{class:"py-5 px-6",children:(d,k)=>{var g=ta(),v=l(g),f=i(v),E=r(i(f),2),h=i(E,!0);n(E),n(f);var u=r(f,2),Y=r(i(u),2),tt=i(Y,!0);n(Y),n(u);var j=r(u,2),ot=r(i(j),2),et=i(ot,!0);n(ot),n(j);var St=r(j,2),Bt=r(i(St),2),ne=i(Bt,!0);n(Bt),n(St),n(v);var Tt=r(v,2),pt=i(Tt),Et=r(i(pt),2),de=i(Et,!0);n(Et),n(pt);var mt=r(pt,2),It=r(i(mt),2),le=i(It,!0);n(It),n(mt);var gt=r(mt,2),Nt=r(i(gt),2),ve=i(Nt,!0);n(Nt),n(gt);var Mt=r(gt,2),Rt=r(i(Mt),2),ce=i(Rt,!0);n(Rt),n(Mt),n(Tt),K((fe,ue,_e,pe)=>{p(h,t(e).defect_type||"-"),p(tt,t(e).module||"-"),p(et,t(e).workstream||"-"),p(ne,t(e).severity||"-"),p(de,fe),p(le,ue),p(ve,_e),p(ce,pe)},[()=>B(t(e).owner),()=>B(t(e).detected_by),()=>_(t(e).created).split(" ")[0],()=>_(t(e).modified).split(" ")[0]]),a(d,g)},$$slots:{default:!0}})}),a(T,R)},$$slots:{default:!0}})});var Ct=r(Dt,2);{var se=c=>{var m=$(),T=l(m);O(T,()=>xt,(P,R)=>{R(P,{class:"mb-8",children:(W,Z)=>{var z=ea(),d=l(z);O(d,()=>Vt,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);O(u,()=>Wt,(Y,tt)=>{tt(Y,{children:(j,ot)=>{A();var et=q("Description");a(j,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);O(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);Ft(u,()=>t(e).description),a(f,h)},$$slots:{default:!0}})}),a(W,z)},$$slots:{default:!0}})}),a(c,m)};I(Ct,c=>{t(e).description&&c(se)})}var Ot=r(Ct,2);{var oe=c=>{var m=$(),T=l(m);O(T,()=>xt,(P,R)=>{R(P,{class:"mb-8",children:(W,Z)=>{var z=aa(),d=l(z);O(d,()=>Vt,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);O(u,()=>Wt,(Y,tt)=>{tt(Y,{children:(j,ot)=>{A();var et=q("Dev Comments");a(j,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);O(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);Ft(u,()=>t(e).dev_comments),a(f,h)},$$slots:{default:!0}})}),a(W,z)},$$slots:{default:!0}})}),a(c,m)};I(Ot,c=>{t(e).dev_comments&&c(oe)})}var ie=r(Ot,2);Ge(ie,{class:"my-6"}),A(2),K(()=>{p(Zt,`#${t(e).id??""}`),p(te,t(e).clean_name||t(e).name)}),a(vt,kt)};I(lt,vt=>{t(e)&&vt(Xt)},!0)}a(H,J)};I(dt,H=>{t(b)?H(Gt):H(Qt,!1)},!0)}a(o,C)};I(M,o=>{t(x)?o(X):o(Jt,!1)})}n(Q);var Yt=r(Q,2);Fe(Yt,{}),a(U,st),yt(),V()}export{ha as component};
