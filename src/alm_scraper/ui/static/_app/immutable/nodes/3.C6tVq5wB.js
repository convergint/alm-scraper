import{b as Ut,d as $e,p as be,c as w,a,f as D,t as W}from"../chunks/Dru5S2bj.js";import{O as U,h as Wt,C as qt,w as ye,aP as Pe,f as Ft,D as we,aD as ke,aK as De,aE as Ce,z as Oe,t as ut,aO as ot,I as r,a1 as V,M as Y,N as x,P as G,g as i,n as nt,i as d,k as Se,aN as Ct,aQ as Ne,aR as Be,aS as Ee,au as Q,Q as o}from"../chunks/D6s8ymes.js";import{e as Ie,s as p}from"../chunks/CrZAdHvx.js";import{p as z,i as R,r as et,c as E,s as Te,b as _t,a as Me,d as Re}from"../chunks/Bb-8cAea.js";import{a as ze,b as Ae,c as Le,d as je,e as ft,f as vt,m as Ke,g as lt,h as Qe,i as Ue,B as We,j as dt,k as Ht,l as Vt}from"../chunks/pjZe8pVt.js";import{s as qe,g as Fe}from"../chunks/DuHXupRG.js";import{s as tt}from"../chunks/DnB7inwL.js";function Yt(c,e,l=!1,_=!1,s=!1){var t=c,n="";U(()=>{var k=ye;if(n===(n=e()??"")){Wt&&qt();return}if(k.nodes!==null&&(Pe(k.nodes.start,k.nodes.end),k.nodes=null),n!==""){if(Wt){Ft.data;for(var m=qt(),I=m;m!==null&&(m.nodeType!==we||m.data!=="");)I=m,m=ke(m);if(m===null)throw De(),Ce;Ut(Ft,I),t=Oe(m);return}var C=n+"";l?C=`<svg>${C}</svg>`:_&&(C=`<math>${C}</math>`);var N=$e(C);if((l||_)&&(N=ut(N)),Ut(ut(N),N.lastChild),l||_)for(;ut(N);)t.before(ut(N));else t.before(N)}})}const He=Le({component:"separator",parts:["root"]});class Nt{static create(e){return new Nt(e)}opts;attachment;constructor(e){this.opts=e,this.attachment=ze(e.ref)}#t=ot(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":this.opts.orientation.current,"aria-hidden":Ae(this.opts.decorative.current),"data-orientation":this.opts.orientation.current,[He.root]:"",...this.attachment}));get props(){return r(this.#t)}set props(e){V(this.#t,e)}}var Ve=D("<div><!></div>");function Ye(c,e){const l=be();Y(e,!0);let _=z(e,"id",19,()=>je(l)),s=z(e,"ref",15,null),t=z(e,"decorative",3,!1),n=z(e,"orientation",3,"horizontal"),k=et(e,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const m=Nt.create({ref:ft(()=>s(),T=>s(T)),id:ft(()=>_()),decorative:ft(()=>t()),orientation:ft(()=>n())}),I=ot(()=>Ke(k,m.props));var C=w(),N=x(C);{var rt=T=>{var A=w(),at=x(A);tt(at,()=>e.child,()=>({props:r(I)})),a(T,A)},ct=T=>{var A=Ve();vt(A,()=>({...r(I)}));var at=i(A);tt(at,()=>e.children??nt),d(A),a(T,A)};R(N,T=>{e.child?T(rt):T(ct,!1)})}a(c,C),G()}function Ge(c,e){Y(e,!0);let l=z(e,"ref",15,null),_=z(e,"data-slot",3,"separator"),s=et(e,["$$slots","$$events","$$legacy","ref","class","data-slot"]);var t=w(),n=x(t);{let k=ot(()=>lt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:min-h-full data-[orientation=vertical]:w-px",e.class));E(n,()=>Ye,(m,I)=>{I(m,Te({get"data-slot"(){return _()},get class(){return r(k)}},()=>s,{get ref(){return l()},set ref(C){l(C)}}))})}a(c,t),G()}const Je=()=>{const c=qe;return{page:{subscribe:c.page.subscribe},navigating:{subscribe:c.navigating.subscribe},updated:c.updated}},Xe={subscribe(c){return Je().page.subscribe(c)}};var Ze=D("<div><!></div>");function Ot(c,e){Y(e,!0);let l=z(e,"ref",15,null),_=et(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=Ze();vt(s,n=>({"data-slot":"card",class:n,..._}),[()=>lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class)]);var t=i(s);tt(t,()=>e.children??nt),d(s),_t(s,n=>l(n),()=>l()),a(c,s),G()}var tr=D("<div><!></div>");function St(c,e){Y(e,!0);let l=z(e,"ref",15,null),_=et(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=tr();vt(s,n=>({"data-slot":"card-content",class:n,..._}),[()=>lt("px-6",e.class)]);var t=i(s);tt(t,()=>e.children??nt),d(s),_t(s,n=>l(n),()=>l()),a(c,s),G()}var er=D("<div><!></div>");function Gt(c,e){Y(e,!0);let l=z(e,"ref",15,null),_=et(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=er();vt(s,n=>({"data-slot":"card-header",class:n,..._}),[()=>lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e.class)]);var t=i(s);tt(t,()=>e.children??nt),d(s),_t(s,n=>l(n),()=>l()),a(c,s),G()}var rr=D("<div><!></div>");function Jt(c,e){Y(e,!0);let l=z(e,"ref",15,null),_=et(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=rr();vt(s,n=>({"data-slot":"card-title",class:n,..._}),[()=>lt("leading-none font-semibold",e.class)]);var t=i(s);tt(t,()=>e.children??nt),d(s),_t(s,n=>l(n),()=>l()),a(c,s),G()}var ar=D('<div class="text-center py-12 text-muted-foreground">Loading...</div>'),sr=D('<div class="text-center py-12 text-destructive"> </div>'),ir=D('<div class="flex flex-wrap gap-2"><!> <!> <!></div>'),dr=D('<div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div><div class="text-muted-foreground text-sm">Owner</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Detected By</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Severity</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Type</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Module</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Workstream</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Created</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Modified</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Closed</div> <div> </div></div></div>'),or=D("<!> <!>",1),nr=D("<!> <!>",1),vr=D('<div class="mb-8"><div class="text-muted-foreground mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-2 mb-3"><!> <!></div> <!></div> <!> <!> <!> <!> <div class="text-sm text-muted-foreground"><p>Press <kbd class="px-2 py-1 bg-muted rounded">Esc</kbd> to return to list</p></div>',1),lr=D('<div class="container mx-auto px-4 py-8 max-w-4xl"><!> <!></div>');function pr(c,e){Y(e,!0);const l=()=>Me(Xe,"$page",_),[_,s]=Re();let t=Ct(null),n=Ct(!0),k=Ct(null);function m(v){return v?new Date(v).toISOString().replace("T"," ").slice(0,19):"-"}function I(v){return v?v.includes("_")?v.split("_")[0]:v:"-"}function C(v){return v?v.includes("1")?"destructive":v.includes("2")?"secondary":"outline":"outline"}function N(v){v.key==="Escape"&&Fe("/")}Se(()=>{const v=parseInt(l().params.id);if(isNaN(v)){V(k,"Invalid defect ID"),V(n,!1);return}Qe(v).then(B=>{V(t,B,!0),V(n,!1)}).catch(B=>{V(k,B instanceof Error?B.message:"Failed to load defect",!0),V(n,!1)})});var rt=lr();Ie("keydown",Ne,N),Ue("11q6om9",v=>{Be(()=>{Ee.title=`${r(t)?`#${r(t).id}: ${r(t).name}`:"Loading..."} - ALM Defects`})});var ct=i(rt);We(ct,{variant:"ghost",href:"/",class:"mb-6",children:(v,B)=>{Q();var mt=W("â† Back to list");a(v,mt)},$$slots:{default:!0}});var T=o(ct,2);{var A=v=>{var B=ar();a(v,B)},at=v=>{var B=w(),mt=x(B);{var Xt=J=>{var X=sr(),gt=i(X,!0);d(X),U(()=>p(gt,r(k))),a(J,X)},Zt=J=>{var X=w(),gt=x(X);{var te=ht=>{var Bt=vr(),pt=x(Bt),xt=i(pt),ee=i(xt);d(xt);var $t=o(xt,2),re=i($t,!0);d($t);var bt=o($t,2),Et=i(bt);{let g=ot(()=>r(t).status==="Open"?"default":"secondary");dt(Et,{get variant(){return r(g)},children:(P,M)=>{Q();var O=W();U(()=>p(O,r(t).status||"Unknown")),a(P,O)},$$slots:{default:!0}})}var ae=o(Et,2);{let g=ot(()=>C(r(t).priority));dt(ae,{get variant(){return r(g)},children:(P,M)=>{Q();var O=W();U(()=>p(O,r(t).priority||"No priority")),a(P,O)},$$slots:{default:!0}})}d(bt);var se=o(bt,2);{var ie=g=>{var P=ir(),M=i(P);{var O=u=>{dt(u,{variant:"destructive",children:(S,$)=>{Q();var f=W();U(b=>p(f,`Blocks: ${b??""}`),[()=>r(t).blocks.join(", ")]),a(S,f)},$$slots:{default:!0}})};R(M,u=>{r(t).blocks&&r(t).blocks.length>0&&u(O)})}var L=o(M,2);{var q=u=>{var S=w(),$=x(S);Ht($,17,()=>r(t).scenarios,Vt,(f,b)=>{dt(f,{variant:"secondary",children:(K,h)=>{Q();var y=W();U(()=>p(y,r(b))),a(K,y)},$$slots:{default:!0}})}),a(u,S)};R(L,u=>{r(t).scenarios&&r(t).scenarios.length>0&&u(q)})}var st=o(L,2);{var j=u=>{var S=w(),$=x(S);Ht($,17,()=>r(t).integrations,Vt,(f,b)=>{dt(f,{variant:"outline",class:"text-blue-400",children:(K,h)=>{Q();var y=W();U(()=>p(y,r(b))),a(K,y)},$$slots:{default:!0}})}),a(u,S)};R(st,u=>{r(t).integrations&&r(t).integrations.length>0&&u(j)})}d(P),a(g,P)};R(se,g=>{(r(t).scenarios&&r(t).scenarios.length>0||r(t).blocks&&r(t).blocks.length>0||r(t).integrations&&r(t).integrations.length>0)&&g(ie)})}d(pt);var It=o(pt,2);E(It,()=>Ot,(g,P)=>{P(g,{class:"mb-8",children:(M,O)=>{var L=w(),q=x(L);E(q,()=>St,(st,j)=>{j(st,{class:"pt-6",children:(u,S)=>{var $=dr(),f=i($),b=o(i(f),2),K=i(b,!0);d(b),d(f);var h=o(f,2),y=o(i(h),2),it=i(y,!0);d(y),d(h);var F=o(h,2),Z=o(i(F),2),yt=i(Z,!0);d(Z),d(F);var H=o(F,2),Rt=o(i(H),2),ve=i(Rt,!0);d(Rt),d(H);var Pt=o(H,2),zt=o(i(Pt),2),le=i(zt,!0);d(zt),d(Pt);var wt=o(Pt,2),At=o(i(wt),2),ce=i(At,!0);d(At),d(wt);var kt=o(wt,2),Lt=o(i(kt),2),ue=i(Lt,!0);d(Lt),d(kt);var Dt=o(kt,2),jt=o(i(Dt),2),fe=i(jt,!0);d(jt),d(Dt);var Kt=o(Dt,2),Qt=o(i(Kt),2),_e=i(Qt,!0);d(Qt),d(Kt),d($),U((me,ge,he,pe,xe)=>{p(K,me),p(it,ge),p(yt,r(t).severity||"-"),p(ve,r(t).defect_type||"-"),p(le,r(t).module||"-"),p(ce,r(t).workstream||"-"),p(ue,he),p(fe,pe),p(_e,xe)},[()=>I(r(t).owner),()=>I(r(t).detected_by),()=>m(r(t).created),()=>m(r(t).modified),()=>m(r(t).closed)]),a(u,$)},$$slots:{default:!0}})}),a(M,L)},$$slots:{default:!0}})});var Tt=o(It,2);{var de=g=>{var P=w(),M=x(P);E(M,()=>Ot,(O,L)=>{L(O,{class:"mb-8",children:(q,st)=>{var j=or(),u=x(j);E(u,()=>Gt,($,f)=>{f($,{children:(b,K)=>{var h=w(),y=x(h);E(y,()=>Jt,(it,F)=>{F(it,{children:(Z,yt)=>{Q();var H=W("Description");a(Z,H)},$$slots:{default:!0}})}),a(b,h)},$$slots:{default:!0}})});var S=o(u,2);E(S,()=>St,($,f)=>{f($,{class:"html-content",children:(b,K)=>{var h=w(),y=x(h);Yt(y,()=>r(t).description),a(b,h)},$$slots:{default:!0}})}),a(q,j)},$$slots:{default:!0}})}),a(g,P)};R(Tt,g=>{r(t).description&&g(de)})}var Mt=o(Tt,2);{var oe=g=>{var P=w(),M=x(P);E(M,()=>Ot,(O,L)=>{L(O,{class:"mb-8",children:(q,st)=>{var j=nr(),u=x(j);E(u,()=>Gt,($,f)=>{f($,{children:(b,K)=>{var h=w(),y=x(h);E(y,()=>Jt,(it,F)=>{F(it,{children:(Z,yt)=>{Q();var H=W("Dev Comments");a(Z,H)},$$slots:{default:!0}})}),a(b,h)},$$slots:{default:!0}})});var S=o(u,2);E(S,()=>St,($,f)=>{f($,{class:"html-content",children:(b,K)=>{var h=w(),y=x(h);Yt(y,()=>r(t).dev_comments),a(b,h)},$$slots:{default:!0}})}),a(q,j)},$$slots:{default:!0}})}),a(g,P)};R(Mt,g=>{r(t).dev_comments&&g(oe)})}var ne=o(Mt,2);Ge(ne,{class:"my-6"}),Q(2),U(()=>{p(ee,`#${r(t).id??""}`),p(re,r(t).clean_name||r(t).name)}),a(ht,Bt)};R(gt,ht=>{r(t)&&ht(te)},!0)}a(J,X)};R(mt,J=>{r(k)?J(Xt):J(Zt,!1)},!0)}a(v,B)};R(T,v=>{r(n)?v(A):v(at,!1)})}d(rt),a(c,rt),G(),s()}export{pr as component};
