import{a as ne,c as Se,b as g,f as h,d as le}from"../chunks/Cdhr7D-1.js";import{w as W,h as ce,a as _e,x as ze,y as Ge,q as fe,C as He,z as Je,A as Qe,B as Ue,e as We,D as E,F as Ye,G as je,s as b,I as Ve,J as Q,$ as Xe,K as Ze,L as et,g as r,M as s,N as e,O as t,P as U,Q as tt}from"../chunks/Cmois_iJ.js";import{e as at,s as d}from"../chunks/BiaiU-je.js";import{i as C}from"../chunks/8dE9xose.js";import{f as rt,h as st,s as ue}from"../chunks/BbYaNuoI.js";import{s as it,a as dt}from"../chunks/B7noLHo6.js";import{s as vt,g as ot}from"../chunks/B2RMDzYE.js";function ge(o,N,$=!1,w=!1,Y=!1){var a=o,n="";W(()=>{var l=ze;if(n===(n=N()??"")){ce&&_e();return}if(l.nodes!==null&&(Ge(l.nodes.start,l.nodes.end),l.nodes=null),n!==""){if(ce){fe.data;for(var v=_e(),D=v;v!==null&&(v.nodeType!==He||v.data!=="");)D=v,v=Je(v);if(v===null)throw Qe(),Ue;ne(fe,D),a=We(v);return}var m=n+"";$?m=`<svg>${m}</svg>`:w&&(m=`<math>${m}</math>`);var c=Se(m);if(($||w)&&(c=E(c)),ne(E(c),c.lastChild),$||w)for(;E(c);)a.before(E(c));else a.before(c)}})}const nt=()=>{const o=vt;return{page:{subscribe:o.page.subscribe},navigating:{subscribe:o.navigating.subscribe},updated:o.updated}},lt={subscribe(o){return nt().page.subscribe(o)}};var ct=h('<div class="text-center py-12 text-gray-400">Loading...</div>'),_t=h('<div class="text-center py-12 text-red-400"> </div>'),ft=h('<div class="mb-8"><h2 class="text-lg font-semibold mb-3 text-gray-300">Description</h2> <div class="p-4 bg-gray-800 rounded-lg html-content"><!></div></div>'),ut=h('<div class="mb-8"><h2 class="text-lg font-semibold mb-3 text-gray-300">Dev Comments</h2> <div class="p-4 bg-gray-800 rounded-lg html-content"><!></div></div>'),gt=h('<div class="mb-8"><div class="text-gray-400 mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-4"><span> </span> <span> </span></div></div> <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8 p-4 bg-gray-800 rounded-lg"><div><div class="text-gray-400 text-sm">Owner</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Detected By</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Severity</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Type</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Module</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Workstream</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Created</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Modified</div> <div> </div></div> <div><div class="text-gray-400 text-sm">Closed</div> <div> </div></div></div> <!> <!> <div class="text-sm text-gray-500"><p>Press <kbd class="px-2 py-1 bg-gray-700 rounded">Esc</kbd> to return to list</p></div>',1),mt=h('<div class="container mx-auto px-4 py-8 max-w-4xl"><a href="/" class="text-blue-400 hover:text-blue-300 mb-6 inline-block">&larr; Back to list</a> <!></div>');function Dt(o,N){Ye(N,!0);const $=()=>it(lt,"$page",w),[w,Y]=dt();let a=Q(null),n=Q(!0),l=Q(null);function v(i){return i?new Date(i).toLocaleString():"-"}function D(i){return i?i.includes("_")?i.split("_")[0]:i:"-"}function m(i){return i?i.includes("1")?"text-red-400":i.includes("2")?"text-orange-400":i.includes("3")?"text-yellow-400":"text-gray-400":"text-gray-400"}function c(i){i.key==="Escape"&&ot("/")}je(()=>{const i=parseInt($().params.id);if(isNaN(i)){b(l,"Invalid defect ID"),b(n,!1);return}rt(i).then(_=>{b(a,_,!0),b(n,!1)}).catch(_=>{b(l,_ instanceof Error?_.message:"Failed to load defect",!0),b(n,!1)})});var M=mt();at("keydown",Xe,c),st("11q6om9",i=>{Ze(()=>{et.title=`${r(a)?`#${r(a).id}: ${r(a).name}`:"Loading..."} - ALM Defects`})});var me=s(e(M),2);{var pe=i=>{var _=ct();g(i,_)},xe=i=>{var _=le(),ye=U(_);{var be=x=>{var y=_t(),I=e(y,!0);t(y),W(()=>d(I,r(l))),g(x,y)},he=x=>{var y=le(),I=U(y);{var $e=L=>{var j=gt(),R=U(j),T=e(R),we=e(T);t(T);var A=s(T,2),De=e(A,!0);t(A);var V=s(A,2),O=e(V),ke=e(O,!0);t(O);var B=s(O,2),Ce=e(B,!0);t(B),t(V),t(R);var P=s(R,2),q=e(P),X=s(e(q),2),Ne=e(X,!0);t(X),t(q);var F=s(q,2),Z=s(e(F),2),Oe=e(Z,!0);t(Z),t(F);var K=s(F,2),ee=s(e(K),2),Ee=e(ee,!0);t(ee),t(K);var S=s(K,2),te=s(e(S),2),Me=e(te,!0);t(te),t(S);var z=s(S,2),ae=s(e(z),2),Ie=e(ae,!0);t(ae),t(z);var G=s(z,2),re=s(e(G),2),Le=e(re,!0);t(re),t(G);var H=s(G,2),se=s(e(H),2),Re=e(se,!0);t(se),t(H);var J=s(H,2),ie=s(e(J),2),Te=e(ie,!0);t(ie),t(J);var de=s(J,2),ve=s(e(de),2),Ae=e(ve,!0);t(ve),t(de),t(P);var oe=s(P,2);{var Be=f=>{var u=ft(),p=s(e(u),2),k=e(p);ge(k,()=>r(a).description),t(p),t(u),g(f,u)};C(oe,f=>{r(a).description&&f(Be)})}var Pe=s(oe,2);{var qe=f=>{var u=ut(),p=s(e(u),2),k=e(p);ge(k,()=>r(a).dev_comments),t(p),t(u),g(f,u)};C(Pe,f=>{r(a).dev_comments&&f(qe)})}tt(2),W((f,u,p,k,Fe,Ke)=>{d(we,`#${r(a).id??""}`),d(De,r(a).name),ue(O,1,`px-3 py-1 rounded ${r(a).status==="Open"?"bg-green-900 text-green-300":"bg-gray-700 text-gray-300"}`),d(ke,r(a).status||"Unknown"),ue(B,1,`px-3 py-1 rounded bg-gray-800 ${f??""}`),d(Ce,r(a).priority||"No priority"),d(Ne,u),d(Oe,p),d(Ee,r(a).severity||"-"),d(Me,r(a).defect_type||"-"),d(Ie,r(a).module||"-"),d(Le,r(a).workstream||"-"),d(Re,k),d(Te,Fe),d(Ae,Ke)},[()=>m(r(a).priority),()=>D(r(a).owner),()=>D(r(a).detected_by),()=>v(r(a).created),()=>v(r(a).modified),()=>v(r(a).closed)]),g(L,j)};C(I,L=>{r(a)&&L($e)},!0)}g(x,y)};C(ye,x=>{r(l)?x(be):x(he,!1)},!0)}g(i,_)};C(me,i=>{r(n)?i(pe):i(xe,!1)})}t(M),g(o,M),Ve(),Y()}export{Dt as component};
