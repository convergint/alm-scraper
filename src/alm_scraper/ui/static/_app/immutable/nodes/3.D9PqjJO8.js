import{b as Rt,d as me,p as ge,c as $,a,f as L,t as W}from"../chunks/CvdHxPe0.js";import{t as K,z as zt,K as Kt,W as he,al as $e,A as Lt,ac as xe,am as be,an as ye,ao as Pe,P as ke,a7 as it,h as rt,g as t,s as H,p as bt,f as l,a as yt,c as i,D as we,r as n,i as De,b as ht,ap as Ce,d as r,aq as Oe,$ as Se,n as z}from"../chunks/B1j5rJTE.js";import{e as Be,s as p}from"../chunks/Dx-hkKOW.js";import{p as J,i as I,r as Vt,c as O,s as Te}from"../chunks/DVB0i_tY.js";import{d as Ee,g as Ie,j as Ne,h as Ae,e as Wt,i as jt}from"../chunks/CrcgNFAs.js";import{a as Me,s as Re}from"../chunks/BNmS6Mg5.js";import{p as ze}from"../chunks/D2b0r6_X.js";import{g as Ke}from"../chunks/CJU9tnj-.js";import{B as Le,a as at}from"../chunks/CsLF12Sa.js";import{C as $t,a as xt,b as qt,c as Ut}from"../chunks/BAmHsSQQ.js";import{a as Ft}from"../chunks/CDvxMGWT.js";import{a as We,b as je,c as qe,d as Ue,e as nt,m as Fe}from"../chunks/BjwC2OC4.js";import{K as He}from"../chunks/jjPhvSon.js";function Ht(j,s,S=!1,N=!1,q=!1){var e=j,x="";K(()=>{var b=he;if(x===(x=s()??"")){zt&&Kt();return}if(b.nodes!==null&&($e(b.nodes.start,b.nodes.end),b.nodes=null),x!==""){if(zt){Lt.data;for(var _=Kt(),B=_;_!==null&&(_.nodeType!==xe||_.data!=="");)B=_,_=be(_);if(_===null)throw ye(),Pe;Rt(Lt,B),e=ke(_);return}var y=x+"";S?y=`<svg>${y}</svg>`:N&&(y=`<math>${y}</math>`);var w=me(y);if((S||N)&&(w=it(w)),Rt(it(w),w.lastChild),S||N)for(;it(w);)e.before(it(w));else e.before(w)}})}const Ve=qe({component:"separator",parts:["root"]});class Pt{static create(s){return new Pt(s)}opts;attachment;constructor(s){this.opts=s,this.attachment=We(s.ref)}#t=rt(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":this.opts.orientation.current,"aria-hidden":je(this.opts.decorative.current),"data-orientation":this.opts.orientation.current,[Ve.root]:"",...this.attachment}));get props(){return t(this.#t)}set props(s){H(this.#t,s)}}var Ye=L("<div><!></div>");function Ge(j,s){const S=ge();bt(s,!0);let N=J(s,"id",19,()=>Ue(S)),q=J(s,"ref",15,null),e=J(s,"decorative",3,!1),x=J(s,"orientation",3,"horizontal"),b=Vt(s,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const _=Pt.create({ref:nt(()=>q(),D=>q(D)),id:nt(()=>N()),decorative:nt(()=>e()),orientation:nt(()=>x())}),B=rt(()=>Fe(b,_.props));var y=$(),w=l(y);{var st=D=>{var A=$(),X=l(A);Ft(X,()=>s.child,()=>({props:t(B)})),a(D,A)},Q=D=>{var A=Ye();Ee(A,()=>({...t(B)}));var X=i(A);Ft(X,()=>s.children??we),n(A),a(D,A)};I(w,D=>{s.child?D(st):D(Q,!1)})}a(j,y),yt()}function Je(j,s){bt(s,!0);let S=J(s,"ref",15,null),N=J(s,"data-slot",3,"separator"),q=Vt(s,["$$slots","$$events","$$legacy","ref","class","data-slot"]);var e=$(),x=l(e);{let b=rt(()=>Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:min-h-full data-[orientation=vertical]:w-px",s.class));O(x,()=>Ge,(_,B)=>{B(_,Te({get"data-slot"(){return N()},get class(){return t(b)}},()=>q,{get ref(){return S()},set ref(y){S(y)}}))})}a(j,e),yt()}var Qe=L('<div class="text-center py-12 text-muted-foreground">Loading...</div>'),Xe=L('<div class="text-center py-12 text-destructive"> </div>'),Ze=L('<div class="flex flex-wrap gap-2"><!> <!> <!></div>'),ta=L('<div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-1 text-sm mb-5 pb-5 border-b border-border"><div><span class="text-muted-foreground">Type:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Module:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Workstream:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Severity:</span> <span class="ml-1.5"> </span></div></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-4"><div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Owner</div> <div class="text-base font-medium"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Detected By</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Created</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Modified</div> <div class="text-base"> </div></div></div>',1),ea=L("<!> <!>",1),aa=L("<!> <!>",1),ra=L('<div class="mb-8"><div class="text-muted-foreground mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-2 mb-3"><!> <!></div> <!></div> <!> <!> <!> <!> <div class="text-sm text-muted-foreground"><p>Press <kbd class="px-2 py-1 bg-muted rounded">Esc</kbd> to return to list</p></div>',1),sa=L('<div class="container mx-auto px-4 py-8 max-w-4xl"><!> <!></div> <!>',1);function ha(j,s){bt(s,!0);const S=()=>Me(ze,"$page",N),[N,q]=Re();let e=ht(null),x=ht(!0),b=ht(null);function _(o){return o?new Date(o).toISOString().replace("T"," ").slice(0,19):"-"}function B(o){return o?o.includes("_")?o.split("_")[0]:o:"-"}function y(o){return o?o.includes("1")?"destructive":o.includes("2")?"secondary":"outline":"outline"}function w(o){o.key==="Escape"&&Ke("/")}De(()=>{const o=parseInt(S().params.id);if(isNaN(o)){H(b,"Invalid defect ID"),H(x,!1);return}Ne(o).then(C=>{H(e,C,!0),H(x,!1)}).catch(C=>{H(b,C instanceof Error?C.message:"Failed to load defect",!0),H(x,!1)})});var st=sa();Be("keydown",Oe,w),Ae("11q6om9",o=>{Ce(()=>{Se.title=`${t(e)?`#${t(e).id}: ${t(e).name}`:"Loading..."} - ALM Defects`})});var Q=l(st),D=i(Q);Le(D,{variant:"ghost",href:"/",class:"mb-6",children:(o,C)=>{z();var dt=W("â† Back to list");a(o,dt)},$$slots:{default:!0}});var A=r(D,2);{var X=o=>{var C=Qe();a(o,C)},Yt=o=>{var C=$(),dt=l(C);{var Jt=V=>{var Y=Xe(),lt=i(Y,!0);n(Y),K(()=>p(lt,t(b))),a(V,Y)},Qt=V=>{var Y=$(),lt=l(Y);{var Xt=vt=>{var kt=ra(),ct=l(kt),ft=i(ct),Zt=i(ft);n(ft);var ut=r(ft,2),te=i(ut,!0);n(ut);var _t=r(ut,2),wt=i(_t);{let c=rt(()=>t(e).status==="Open"?"default":"secondary");at(wt,{get variant(){return t(c)},children:(m,T)=>{z();var P=W();K(()=>p(P,t(e).status||"Unknown")),a(m,P)},$$slots:{default:!0}})}var ee=r(wt,2);{let c=rt(()=>y(t(e).priority));at(ee,{get variant(){return t(c)},children:(m,T)=>{z();var P=W();K(()=>p(P,t(e).priority||"No priority")),a(m,P)},$$slots:{default:!0}})}n(_t);var ae=r(_t,2);{var re=c=>{var m=Ze(),T=i(m);{var P=d=>{at(d,{variant:"destructive",children:(k,g)=>{z();var v=W();K(f=>p(v,`Blocks: ${f??""}`),[()=>t(e).blocks.join(", ")]),a(k,v)},$$slots:{default:!0}})};I(T,d=>{t(e).blocks&&t(e).blocks.length>0&&d(P)})}var M=r(T,2);{var U=d=>{var k=$(),g=l(k);Wt(g,17,()=>t(e).scenarios,jt,(v,f)=>{at(v,{variant:"secondary",children:(E,h)=>{z();var u=W();K(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(M,d=>{t(e).scenarios&&t(e).scenarios.length>0&&d(U)})}var Z=r(M,2);{var R=d=>{var k=$(),g=l(k);Wt(g,17,()=>t(e).integrations,jt,(v,f)=>{at(v,{variant:"outline",class:"text-blue-400",children:(E,h)=>{z();var u=W();K(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(Z,d=>{t(e).integrations&&t(e).integrations.length>0&&d(R)})}n(m),a(c,m)};I(ae,c=>{(t(e).scenarios&&t(e).scenarios.length>0||t(e).blocks&&t(e).blocks.length>0||t(e).integrations&&t(e).integrations.length>0)&&c(re)})}n(ct);var Dt=r(ct,2);O(Dt,()=>xt,(c,m)=>{m(c,{class:"mb-8",children:(T,P)=>{var M=$(),U=l(M);O(U,()=>$t,(Z,R)=>{R(Z,{class:"py-5 px-6",children:(d,k)=>{var g=ta(),v=l(g),f=i(v),E=r(i(f),2),h=i(E,!0);n(E),n(f);var u=r(f,2),G=r(i(u),2),tt=i(G,!0);n(G),n(u);var F=r(u,2),ot=r(i(F),2),et=i(ot,!0);n(ot),n(F);var St=r(F,2),Bt=r(i(St),2),ne=i(Bt,!0);n(Bt),n(St),n(v);var Tt=r(v,2),pt=i(Tt),Et=r(i(pt),2),de=i(Et,!0);n(Et),n(pt);var mt=r(pt,2),It=r(i(mt),2),le=i(It,!0);n(It),n(mt);var gt=r(mt,2),Nt=r(i(gt),2),ve=i(Nt,!0);n(Nt),n(gt);var At=r(gt,2),Mt=r(i(At),2),ce=i(Mt,!0);n(Mt),n(At),n(Tt),K((fe,ue,_e,pe)=>{p(h,t(e).defect_type||"-"),p(tt,t(e).module||"-"),p(et,t(e).workstream||"-"),p(ne,t(e).severity||"-"),p(de,fe),p(le,ue),p(ve,_e),p(ce,pe)},[()=>B(t(e).owner),()=>B(t(e).detected_by),()=>_(t(e).created).split(" ")[0],()=>_(t(e).modified).split(" ")[0]]),a(d,g)},$$slots:{default:!0}})}),a(T,M)},$$slots:{default:!0}})});var Ct=r(Dt,2);{var se=c=>{var m=$(),T=l(m);O(T,()=>xt,(P,M)=>{M(P,{class:"mb-8",children:(U,Z)=>{var R=ea(),d=l(R);O(d,()=>qt,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);O(u,()=>Ut,(G,tt)=>{tt(G,{children:(F,ot)=>{z();var et=W("Description");a(F,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);O(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);Ht(u,()=>t(e).description),a(f,h)},$$slots:{default:!0}})}),a(U,R)},$$slots:{default:!0}})}),a(c,m)};I(Ct,c=>{t(e).description&&c(se)})}var Ot=r(Ct,2);{var oe=c=>{var m=$(),T=l(m);O(T,()=>xt,(P,M)=>{M(P,{class:"mb-8",children:(U,Z)=>{var R=aa(),d=l(R);O(d,()=>qt,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);O(u,()=>Ut,(G,tt)=>{tt(G,{children:(F,ot)=>{z();var et=W("Dev Comments");a(F,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);O(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);Ht(u,()=>t(e).dev_comments),a(f,h)},$$slots:{default:!0}})}),a(U,R)},$$slots:{default:!0}})}),a(c,m)};I(Ot,c=>{t(e).dev_comments&&c(oe)})}var ie=r(Ot,2);Je(ie,{class:"my-6"}),z(2),K(()=>{p(Zt,`#${t(e).id??""}`),p(te,t(e).clean_name||t(e).name)}),a(vt,kt)};I(lt,vt=>{t(e)&&vt(Xt)},!0)}a(V,Y)};I(dt,V=>{t(b)?V(Jt):V(Qt,!1)},!0)}a(o,C)};I(A,o=>{t(x)?o(X):o(Yt,!1)})}n(Q);var Gt=r(Q,2);He(Gt,{}),a(j,st),yt(),q()}export{ha as component};
