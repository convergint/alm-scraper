import{b as q,f as Y,d as Ce}from"../chunks/Cdhr7D-1.js";import{h as P,e as ce,D as sa,l as _e,a as ia,b as ua,g as i,r as fa,H as va,c as Me,f as pe,q as ee,C as da,a7 as ca,a8 as Ne,i as L,o as ye,v as _a,a9 as pa,aa as Re,ab as Ee,ac as ga,ad as De,ae as ha,af as ba,m as ma,ag as F,j as qe,p as He,ah as ge,ai as ya,aj as xa,k as Ea,z as Sa,ak as Fe,al as $e,t as ka,am as wa,an as Aa,ao as ze,ap as Ta,aq as Ca,ar as Ma,as as Na,at as Da,S as Ia,au as Pa,F as La,G as Oa,I as Ra,s as M,N as h,M as _,J as z,L as qa,O as g,Q as Ha,P as he,w as ae}from"../chunks/Cmois_iJ.js";import{d as Fa,e as $a,s as I}from"../chunks/BiaiU-je.js";import{i as re}from"../chunks/8dE9xose.js";import{h as za,a as Ua,s as Ie}from"../chunks/BbYaNuoI.js";import{g as Va}from"../chunks/B2RMDzYE.js";function Ba(e,a){return a}function Ya(e,a,r){for(var v=[],u=a.length,l,f=a.length,t=0;t<u;t++){let c=a[t];He(c,()=>{if(l){if(l.pending.delete(c),l.done.add(c),l.pending.size===0){var m=e.outrogroups;xe(Ee(l.done)),m.delete(l),m.size===0&&(e.outrogroups=null)}}else f-=1},!1)}if(f===0){var d=v.length===0&&r!==null;if(d){var n=r,p=n.parentNode;xa(p),p.append(n),e.items.clear()}xe(a,!d)}else l={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(l)}function xe(e,a=!0){for(var r=0;r<e.length;r++)Ea(e[r],a)}var Pe;function Ga(e,a,r,v,u,l=null){var f=e,t=new Map;{var d=e;f=P?ce(sa(d)):d.appendChild(_e())}P&&ia();var n=null,p=pa(()=>{var y=r();return Re(y)?y:y==null?[]:Ee(y)}),c,m=!0;function O(){T.fallback=n,Wa(T,c,f,a,v),n!==null&&(c.length===0?(n.f&F)===0?qe(n):(n.f^=F,Q(n,null,f)):He(n,()=>{n=null}))}var o=ua(()=>{c=i(p);var y=c.length;let w=!1;if(P){var b=fa(f)===va;b!==(y===0)&&(f=Me(),ce(f),pe(!1),w=!0)}for(var N=new Set,x=L,C=_a(),A=0;A<y;A+=1){P&&ee.nodeType===da&&ee.data===ca&&(f=ee,w=!0,pe(!1));var D=c[A],E=v(D,A),S=m?null:t.get(E);S?(S.v&&Ne(S.v,D),S.i&&Ne(S.i,A),C&&x.skipped_effects.delete(S.e)):(S=Ja(t,m?f:Pe??=_e(),D,E,A,u,a,r),m||(S.e.f|=F),t.set(E,S)),N.add(E)}if(y===0&&l&&!n&&(m?n=ye(()=>l(f)):(n=ye(()=>l(Pe??=_e())),n.f|=F)),P&&y>0&&ce(Me()),!m)if(C){for(const[G,W]of t)N.has(G)||x.skipped_effects.add(W.e);x.oncommit(O),x.ondiscard(()=>{})}else O();w&&pe(!0),i(p)}),T={effect:o,items:t,outrogroups:null,fallback:n};m=!1,P&&(f=ee)}function K(e){for(;e!==null&&(e.f&ya)===0;)e=e.next;return e}function Wa(e,a,r,v,u){var l=a.length,f=e.items,t=K(e.effect.first),d,n=null,p=[],c=[],m,O,o,T;for(T=0;T<l;T+=1){if(m=a[T],O=u(m,T),o=f.get(O).e,e.outrogroups!==null)for(const E of e.outrogroups)E.pending.delete(o),E.done.delete(o);if((o.f&F)!==0)if(o.f^=F,o===t)Q(o,null,r);else{var y=n?n.next:t;o===e.effect.last&&(e.effect.last=o.prev),o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),H(e,n,o),H(e,o,y),Q(o,y,r),n=o,p=[],c=[],t=K(n.next);continue}if((o.f&ge)!==0&&qe(o),o!==t){if(d!==void 0&&d.has(o)){if(p.length<c.length){var w=c[0],b;n=w.prev;var N=p[0],x=p[p.length-1];for(b=0;b<p.length;b+=1)Q(p[b],w,r);for(b=0;b<c.length;b+=1)d.delete(c[b]);H(e,N.prev,x.next),H(e,n,N),H(e,x,w),t=w,n=x,T-=1,p=[],c=[]}else d.delete(o),Q(o,t,r),H(e,o.prev,o.next),H(e,o,n===null?e.effect.first:n.next),H(e,n,o),n=o;continue}for(p=[],c=[];t!==null&&t!==o;)(d??=new Set).add(t),c.push(t),t=K(t.next);if(t===null)continue}(o.f&F)===0&&p.push(o),n=o,t=K(o.next)}if(e.outrogroups!==null){for(const E of e.outrogroups)E.pending.size===0&&(xe(Ee(E.done)),e.outrogroups?.delete(E));e.outrogroups.size===0&&(e.outrogroups=null)}if(t!==null||d!==void 0){var C=[];if(d!==void 0)for(o of d)(o.f&ge)===0&&C.push(o);for(;t!==null;)(t.f&ge)===0&&t!==e.fallback&&C.push(t),t=K(t.next);var A=C.length;if(A>0){var D=l===0?r:null;Ya(e,C,D)}}}function Ja(e,a,r,v,u,l,f,t){var d=(f&ha)!==0?(f&ba)===0?ma(r,!1,!1):De(r):null,n=(f&ga)!==0?De(u):null;return{v:d,i:n,e:ye(()=>(l(a,d??r,n??u,t),()=>{e.delete(v)}))}}function Q(e,a,r){if(e.nodes)for(var v=e.nodes.start,u=e.nodes.end,l=a&&(a.f&F)===0?a.nodes.start:r;v!==null;){var f=Sa(v);if(l.before(v),v===u)return;v=f}}function H(e,a,r){a===null?e.effect.first=r:a.next=r,r===null?e.effect.last=a:r.prev=a}function Ue(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Re(a))return wa();for(var v of e.options)v.selected=a.includes(X(v));return}for(v of e.options){var u=X(v);if(Aa(u,a)){v.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function Ka(e){var a=new MutationObserver(()=>{Ue(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ka(()=>{a.disconnect()})}function Le(e,a,r=a){var v=new WeakSet,u=!0;Fe(e,"change",l=>{var f=l?"[selected]":":checked",t;if(e.multiple)t=[].map.call(e.querySelectorAll(f),X);else{var d=e.querySelector(f)??e.querySelector("option:not([disabled])");t=d&&X(d)}r(t),L!==null&&v.add(L)}),$e(()=>{var l=a();if(e===document.activeElement){var f=ze??L;if(v.has(f))return}if(Ue(e,l,u),u&&l===void 0){var t=e.querySelector(":checked");t!==null&&(l=X(t),r(l))}e.__value=l,u=!1}),Ka(e)}function X(e){return"__value"in e?e.__value:e.value}const Qa=Symbol("is custom element"),Xa=Symbol("is html");function Za(e){if(P){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var v=e.value;Oe(e,"value",null),e.value=v}if(e.hasAttribute("checked")){var u=e.checked;Oe(e,"checked",null),e.checked=u}}};e.__on_r=r,Ta(r),Ca()}}function Oe(e,a,r,v){var u=ja(e);P&&(u[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||u[a]!==(u[a]=r)&&(a==="loading"&&(e[Ma]=r),e.removeAttribute(a))}function ja(e){return e.__attributes??={[Qa]:e.nodeName.includes("-"),[Xa]:e.namespaceURI===Na}}function er(e,a,r=a){var v=new WeakSet;Fe(e,"input",async u=>{var l=u?e.defaultValue:e.value;if(l=be(e)?me(l):l,r(l),L!==null&&v.add(L),await Da(),l!==(l=a())){var f=e.selectionStart,t=e.selectionEnd,d=e.value.length;if(e.value=l??"",t!==null){var n=e.value.length;f===t&&t===d&&n>d?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=f,e.selectionEnd=Math.min(t,n))}}}),(P&&e.defaultValue!==e.value||Ia(a)==null&&e.value)&&(r(be(e)?me(e.value):e.value),L!==null&&v.add(L)),Pa(()=>{var u=a();if(e===document.activeElement){var l=ze??L;if(v.has(l))return}be(e)&&u===me(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function be(e){var a=e.type;return a==="number"||a==="range"}function me(e){return e===""?null:+e}var ar=Y('<div class="text-center py-12 text-gray-400">Loading...</div>'),rr=Y('<div class="text-center py-12 text-red-400"> </div>'),tr=Y('<tr class="border-b border-gray-800 hover:bg-gray-800 cursor-pointer"><td class="py-3 px-4 text-blue-400"> </td><td class="py-3 px-4"> </td><td class="py-3 px-4"><span> </span></td><td> </td><td class="py-3 px-4"> </td><td class="py-3 px-4 text-gray-400"> </td></tr>'),nr=Y('<div class="mt-6 flex justify-center gap-2"><button class="px-4 py-2 bg-gray-800 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700">Previous</button> <span class="px-4 py-2"> </span> <button class="px-4 py-2 bg-gray-800 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-700">Next</button></div>'),lr=Y('<div class="mb-4 text-gray-400"> </div> <div class="overflow-x-auto"><table class="w-full text-left"><thead class="border-b border-gray-700"><tr><th class="py-3 px-4 font-medium">ID</th><th class="py-3 px-4 font-medium">Name</th><th class="py-3 px-4 font-medium">Status</th><th class="py-3 px-4 font-medium">Priority</th><th class="py-3 px-4 font-medium">Owner</th><th class="py-3 px-4 font-medium">Created</th></tr></thead><tbody></tbody></table></div> <!>',1),or=Y('<div class="container mx-auto px-4 py-8"><h1 class="text-3xl font-bold mb-8">ALM Defects</h1> <form class="mb-6 flex flex-wrap gap-4"><input type="text" placeholder="Search..." class="bg-gray-800 border border-gray-700 rounded px-4 py-2 focus:outline-none focus:border-blue-500"/> <select class="bg-gray-800 border border-gray-700 rounded px-4 py-2 focus:outline-none focus:border-blue-500"><option>All Status</option><option>Open</option><option>Closed</option><option>Rejected</option></select> <select class="bg-gray-800 border border-gray-700 rounded px-4 py-2 focus:outline-none focus:border-blue-500"><option>All Priority</option><option>P1 - Critical</option><option>P2 - High</option><option>P3 - Medium</option><option>P4 - Low</option></select> <button type="submit" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-medium">Search</button></form> <!></div>');function cr(e,a){La(a,!0);let r=z(null),v=z(!0),u=z(null),l=z("open"),f=z(""),t="",d=z(""),n=z(1);async function p(){M(v,!0),M(u,null);try{const s={page:i(n),limit:50};i(l)&&(s.status=i(l)),i(f)&&(s.priority=i(f)),i(d)&&(s.q=i(d)),M(r,await Ua(s),!0)}catch(s){M(u,s instanceof Error?s.message:"Unknown error",!0)}finally{M(v,!1)}}function c(){M(n,1),p()}function m(s){s.preventDefault(),c()}function O(s){M(n,s,!0),p()}function o(s){return s?new Date(s).toLocaleDateString():"-"}function T(s){return s?s.includes("_")?s.split("_")[0]:s:"-"}function y(s){return s?s.includes("1")?"text-red-400":s.includes("2")?"text-orange-400":s.includes("3")?"text-yellow-400":"text-gray-400":"text-gray-400"}Oa(()=>{p()});var w=or();za("1uha8ag",s=>{$e(()=>{qa.title="ALM Defects"})});var b=_(h(w),2),N=h(b);Za(N);var x=_(N,2);x.__change=c;var C=h(x);C.value=C.__value="";var A=_(C);A.value=A.__value="open";var D=_(A);D.value=D.__value="closed";var E=_(D);E.value=E.__value="rejected",g(x);var S=_(x,2);S.__change=c;var G=h(S);G.value=G.__value="";var W=_(G);W.value=W.__value="P1";var te=_(W);te.value=te.__value="P2";var ne=_(te);ne.value=ne.__value="P3";var Se=_(ne);Se.value=Se.__value="P4",g(S),Ha(2),g(b);var Ve=_(b,2);{var Be=s=>{var Z=ar();q(s,Z)},Ye=s=>{var Z=Ce(),Ge=he(Z);{var We=U=>{var V=rr(),le=h(V,!0);g(V),ae(()=>I(le,i(u))),q(U,V)},Je=U=>{var V=Ce(),le=he(V);{var Ke=oe=>{var ke=lr(),se=he(ke),Qe=h(se);g(se);var ie=_(se,2),we=h(ie),Ae=_(h(we));Ga(Ae,21,()=>i(r).defects,Ba,(J,k)=>{var R=tr();R.__click=()=>Va(`/defects/${i(k).id}`);var $=h(R),ue=h($);g($);var B=_($),je=h(B,!0);g(B);var fe=_(B),ve=h(fe),ea=h(ve,!0);g(ve),g(fe);var j=_(fe),aa=h(j,!0);g(j);var de=_(j),ra=h(de,!0);g(de);var Te=_(de),ta=h(Te,!0);g(Te),g(R),ae((na,la,oa)=>{I(ue,`#${i(k).id??""}`),I(je,i(k).name),Ie(ve,1,`px-2 py-1 rounded text-sm ${i(k).status==="Open"?"bg-green-900 text-green-300":"bg-gray-700 text-gray-300"}`),I(ea,i(k).status||"-"),Ie(j,1,`py-3 px-4 ${na??""}`),I(aa,i(k).priority||"-"),I(ra,la),I(ta,oa)},[()=>y(i(k).priority),()=>T(i(k).owner),()=>o(i(k).created)]),q(J,R)}),g(Ae),g(we),g(ie);var Xe=_(ie,2);{var Ze=J=>{var k=nr(),R=h(k);R.__click=()=>O(i(n)-1);var $=_(R,2),ue=h($);g($);var B=_($,2);B.__click=()=>O(i(n)+1),g(k),ae(()=>{R.disabled=i(n)===1,I(ue,`Page ${i(n)??""} of ${i(r).pages??""}`),B.disabled=i(n)===i(r).pages}),q(J,k)};re(Xe,J=>{i(r).pages>1&&J(Ze)})}ae(()=>I(Qe,`Showing ${i(r).defects.length??""} of ${i(r).total??""} defects (page ${i(r).page??""} of ${i(r).pages??""})`)),q(oe,ke)};re(le,oe=>{i(r)&&oe(Ke)},!0)}q(U,V)};re(Ge,U=>{i(u)?U(We):U(Je,!1)},!0)}q(s,Z)};re(Ve,s=>{i(v)?s(Be):s(Ye,!1)})}g(w),$a("submit",b,m),er(N,()=>i(d),s=>M(d,s)),Le(x,()=>i(l),s=>M(l,s)),Le(S,()=>i(f),s=>M(f,s)),q(e,w),Ra()}Fa(["change","click"]);export{cr as component};
