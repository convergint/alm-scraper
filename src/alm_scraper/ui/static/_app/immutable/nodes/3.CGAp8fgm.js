import{b as Ke,d as mt,p as ht,c as p,a as i,f as w,t as de}from"../chunks/BFUILMWW.js";import{O as G,h as Qe,C as Ue,w as xt,aP as bt,f as We,D as pt,aD as $t,aK as yt,aE as Pt,z as wt,t as ce,aO as oe,I as a,a1 as K,M,N as _,P as R,g as d,n as X,i as o,k as kt,aN as ke,aQ as Dt,aR as Ct,aS as Ot,au as Y,Q as n}from"../chunks/DuMmomeP.js";import{e as St,s as b}from"../chunks/DY5cQnax.js";import{p as P,i as J,r as U,c as S,s as Nt,b as ne,a as Et,d as It}from"../chunks/DouymJUY.js";import{a as Tt,b as Bt,c as Mt,d as Rt,e as ue,f as Z,m as zt,g as ee,t as At,h as Lt,i as Vt,j as jt,B as Kt}from"../chunks/DPglyzwn.js";import{s as Qt,g as Ut}from"../chunks/Cs6ux0kS.js";import{s as Q}from"../chunks/BUEpcNto.js";function qe(c,e,l=!1,u=!1,r=!1){var t=c,s="";G(()=>{var g=xt;if(s===(s=e()??"")){Qe&&Ue();return}if(g.nodes!==null&&(bt(g.nodes.start,g.nodes.end),g.nodes=null),s!==""){if(Qe){We.data;for(var f=Ue(),$=f;f!==null&&(f.nodeType!==pt||f.data!=="");)$=f,f=$t(f);if(f===null)throw yt(),Pt;Ke(We,$),t=wt(f);return}var x=s+"";l?x=`<svg>${x}</svg>`:u&&(x=`<math>${x}</math>`);var m=mt(x);if((l||u)&&(m=ce(m)),Ke(ce(m),m.lastChild),l||u)for(;ce(m);)t.before(ce(m));else t.before(m)}})}const Wt=Mt({component:"separator",parts:["root"]});class Oe{static create(e){return new Oe(e)}opts;attachment;constructor(e){this.opts=e,this.attachment=Tt(e.ref)}#e=oe(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":this.opts.orientation.current,"aria-hidden":Bt(this.opts.decorative.current),"data-orientation":this.opts.orientation.current,[Wt.root]:"",...this.attachment}));get props(){return a(this.#e)}set props(e){K(this.#e,e)}}var qt=w("<div><!></div>");function Ft(c,e){const l=ht();M(e,!0);let u=P(e,"id",19,()=>Rt(l)),r=P(e,"ref",15,null),t=P(e,"decorative",3,!1),s=P(e,"orientation",3,"horizontal"),g=U(e,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const f=Oe.create({ref:ue(()=>r(),N=>r(N)),id:ue(()=>u()),decorative:ue(()=>t()),orientation:ue(()=>s())}),$=oe(()=>zt(g,f.props));var x=p(),m=_(x);{var te=N=>{var B=p(),re=_(B);Q(re,()=>e.child,()=>({props:a($)})),i(N,B)},ve=N=>{var B=qt();Z(B,()=>({...a($)}));var re=d(B);Q(re,()=>e.children??X),o(B),i(N,B)};J(m,N=>{e.child?N(te):N(ve,!1)})}i(c,x),R()}function Ht(c,e){M(e,!0);let l=P(e,"ref",15,null),u=P(e,"data-slot",3,"separator"),r=U(e,["$$slots","$$events","$$legacy","ref","class","data-slot"]);var t=p(),s=_(t);{let g=oe(()=>ee("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:min-h-full data-[orientation=vertical]:w-px",e.class));S(s,()=>Ft,(f,$)=>{$(f,Nt({get"data-slot"(){return u()},get class(){return a(g)}},()=>r,{get ref(){return l()},set ref(x){l(x)}}))})}i(c,t),R()}const Yt=()=>{const c=Qt;return{page:{subscribe:c.page.subscribe},navigating:{subscribe:c.navigating.subscribe},updated:c.updated}},Gt={subscribe(c){return Yt().page.subscribe(c)}},Jt=At({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden rounded-full border px-2 py-0.5 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] [&>svg]:pointer-events-none [&>svg]:size-3",variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90 border-transparent",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90 border-transparent",destructive:"bg-destructive [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70 border-transparent text-white",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Fe(c,e){M(e,!0);let l=P(e,"ref",15,null),u=P(e,"variant",3,"default"),r=U(e,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var t=p(),s=_(t);Lt(s,()=>e.href?"a":"span",!1,(g,f)=>{ne(g,m=>l(m),()=>l()),Z(g,m=>({"data-slot":"badge",href:e.href,class:m,...r}),[()=>ee(Jt({variant:u()}),e.class)]);var $=p(),x=_($);Q(x,()=>e.children??X),i(f,$)}),i(c,t),R()}var Xt=w("<div><!></div>");function De(c,e){M(e,!0);let l=P(e,"ref",15,null),u=U(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Xt();Z(r,s=>({"data-slot":"card",class:s,...u}),[()=>ee("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class)]);var t=d(r);Q(t,()=>e.children??X),o(r),ne(r,s=>l(s),()=>l()),i(c,r),R()}var Zt=w("<div><!></div>");function Ce(c,e){M(e,!0);let l=P(e,"ref",15,null),u=U(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Zt();Z(r,s=>({"data-slot":"card-content",class:s,...u}),[()=>ee("px-6",e.class)]);var t=d(r);Q(t,()=>e.children??X),o(r),ne(r,s=>l(s),()=>l()),i(c,r),R()}var er=w("<div><!></div>");function He(c,e){M(e,!0);let l=P(e,"ref",15,null),u=U(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=er();Z(r,s=>({"data-slot":"card-header",class:s,...u}),[()=>ee("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e.class)]);var t=d(r);Q(t,()=>e.children??X),o(r),ne(r,s=>l(s),()=>l()),i(c,r),R()}var tr=w("<div><!></div>");function Ye(c,e){M(e,!0);let l=P(e,"ref",15,null),u=U(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=tr();Z(r,s=>({"data-slot":"card-title",class:s,...u}),[()=>ee("leading-none font-semibold",e.class)]);var t=d(r);Q(t,()=>e.children??X),o(r),ne(r,s=>l(s),()=>l()),i(c,r),R()}var rr=w('<div class="text-center py-12 text-muted-foreground">Loading...</div>'),ar=w('<div class="text-center py-12 text-destructive"> </div>'),sr=w('<div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div><div class="text-muted-foreground text-sm">Owner</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Detected By</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Severity</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Type</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Module</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Workstream</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Created</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Modified</div> <div> </div></div> <div><div class="text-muted-foreground text-sm">Closed</div> <div> </div></div></div>'),ir=w("<!> <!>",1),dr=w("<!> <!>",1),or=w('<div class="mb-8"><div class="text-muted-foreground mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-2"><!> <!></div></div> <!> <!> <!> <!> <div class="text-sm text-muted-foreground"><p>Press <kbd class="px-2 py-1 bg-muted rounded">Esc</kbd> to return to list</p></div>',1),nr=w('<div class="container mx-auto px-4 py-8 max-w-4xl"><!> <!></div>');function mr(c,e){M(e,!0);const l=()=>Et(Gt,"$page",u),[u,r]=It();let t=ke(null),s=ke(!0),g=ke(null);function f(v){return v?new Date(v).toISOString().replace("T"," ").slice(0,19):"-"}function $(v){return v?v.includes("_")?v.split("_")[0]:v:"-"}function x(v){return v?v.includes("1")?"destructive":v.includes("2")?"secondary":"outline":"outline"}function m(v){v.key==="Escape"&&Ut("/")}kt(()=>{const v=parseInt(l().params.id);if(isNaN(v)){K(g,"Invalid defect ID"),K(s,!1);return}Vt(v).then(k=>{K(t,k,!0),K(s,!1)}).catch(k=>{K(g,k instanceof Error?k.message:"Failed to load defect",!0),K(s,!1)})});var te=nr();St("keydown",Dt,m),jt("11q6om9",v=>{Ct(()=>{Ot.title=`${a(t)?`#${a(t).id}: ${a(t).name}`:"Loading..."} - ALM Defects`})});var ve=d(te);Kt(ve,{variant:"ghost",href:"/",class:"mb-6",children:(v,k)=>{Y();var fe=de("â† Back to list");i(v,fe)},$$slots:{default:!0}});var N=n(ve,2);{var B=v=>{var k=rr();i(v,k)},re=v=>{var k=p(),fe=_(k);{var Ge=W=>{var q=ar(),_e=d(q,!0);o(q),G(()=>b(_e,a(g))),i(W,q)},Je=W=>{var q=p(),_e=_(q);{var Xe=ge=>{var Se=or(),me=_(Se),he=d(me),Ze=d(he);o(he);var xe=n(he,2),et=d(xe,!0);o(xe);var Ne=n(xe,2),Ee=d(Ne);{let y=oe(()=>a(t).status==="Open"?"default":"secondary");Fe(Ee,{get variant(){return a(y)},children:(D,z)=>{Y();var E=de();G(()=>b(E,a(t).status||"Unknown")),i(D,E)},$$slots:{default:!0}})}var tt=n(Ee,2);{let y=oe(()=>x(a(t).priority));Fe(tt,{get variant(){return a(y)},children:(D,z)=>{Y();var E=de();G(()=>b(E,a(t).priority||"No priority")),i(D,E)},$$slots:{default:!0}})}o(Ne),o(me);var Ie=n(me,2);S(Ie,()=>De,(y,D)=>{D(y,{class:"mb-8",children:(z,E)=>{var F=p(),ae=_(F);S(ae,()=>Ce,(be,A)=>{A(be,{class:"pt-6",children:(L,le)=>{var C=sr(),O=d(C),I=n(d(O),2),se=d(I,!0);o(I),o(O);var h=n(O,2),T=n(d(h),2),ie=d(T,!0);o(T),o(h);var V=n(h,2),H=n(d(V),2),pe=d(H,!0);o(H),o(V);var j=n(V,2),Me=n(d(j),2),it=d(Me,!0);o(Me),o(j);var $e=n(j,2),Re=n(d($e),2),dt=d(Re,!0);o(Re),o($e);var ye=n($e,2),ze=n(d(ye),2),ot=d(ze,!0);o(ze),o(ye);var Pe=n(ye,2),Ae=n(d(Pe),2),nt=d(Ae,!0);o(Ae),o(Pe);var we=n(Pe,2),Le=n(d(we),2),vt=d(Le,!0);o(Le),o(we);var Ve=n(we,2),je=n(d(Ve),2),lt=d(je,!0);o(je),o(Ve),o(C),G((ct,ut,ft,_t,gt)=>{b(se,ct),b(ie,ut),b(pe,a(t).severity||"-"),b(it,a(t).defect_type||"-"),b(dt,a(t).module||"-"),b(ot,a(t).workstream||"-"),b(nt,ft),b(vt,_t),b(lt,gt)},[()=>$(a(t).owner),()=>$(a(t).detected_by),()=>f(a(t).created),()=>f(a(t).modified),()=>f(a(t).closed)]),i(L,C)},$$slots:{default:!0}})}),i(z,F)},$$slots:{default:!0}})});var Te=n(Ie,2);{var rt=y=>{var D=p(),z=_(D);S(z,()=>De,(E,F)=>{F(E,{class:"mb-8",children:(ae,be)=>{var A=ir(),L=_(A);S(L,()=>He,(C,O)=>{O(C,{children:(I,se)=>{var h=p(),T=_(h);S(T,()=>Ye,(ie,V)=>{V(ie,{children:(H,pe)=>{Y();var j=de("Description");i(H,j)},$$slots:{default:!0}})}),i(I,h)},$$slots:{default:!0}})});var le=n(L,2);S(le,()=>Ce,(C,O)=>{O(C,{class:"html-content",children:(I,se)=>{var h=p(),T=_(h);qe(T,()=>a(t).description),i(I,h)},$$slots:{default:!0}})}),i(ae,A)},$$slots:{default:!0}})}),i(y,D)};J(Te,y=>{a(t).description&&y(rt)})}var Be=n(Te,2);{var at=y=>{var D=p(),z=_(D);S(z,()=>De,(E,F)=>{F(E,{class:"mb-8",children:(ae,be)=>{var A=dr(),L=_(A);S(L,()=>He,(C,O)=>{O(C,{children:(I,se)=>{var h=p(),T=_(h);S(T,()=>Ye,(ie,V)=>{V(ie,{children:(H,pe)=>{Y();var j=de("Dev Comments");i(H,j)},$$slots:{default:!0}})}),i(I,h)},$$slots:{default:!0}})});var le=n(L,2);S(le,()=>Ce,(C,O)=>{O(C,{class:"html-content",children:(I,se)=>{var h=p(),T=_(h);qe(T,()=>a(t).dev_comments),i(I,h)},$$slots:{default:!0}})}),i(ae,A)},$$slots:{default:!0}})}),i(y,D)};J(Be,y=>{a(t).dev_comments&&y(at)})}var st=n(Be,2);Ht(st,{class:"my-6"}),Y(2),G(()=>{b(Ze,`#${a(t).id??""}`),b(et,a(t).name)}),i(ge,Se)};J(_e,ge=>{a(t)&&ge(Xe)},!0)}i(W,q)};J(fe,W=>{a(g)?W(Ge):W(Je,!1)},!0)}i(v,k)};J(N,v=>{a(s)?v(B):v(re,!1)})}o(te),i(c,te),R(),r()}export{mr as component};
