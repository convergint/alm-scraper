import{b as At,c as me,p as ge,d as $,a,f as L,t as U}from"../chunks/Cv_KSpHU.js";import{P as z,h as Kt,F as zt,y as he,R as $e,f as Lt,G as xe,S as be,U as ye,V as Pe,B as ke,w as it,W as rt,K as t,X as j,t as bt,O as l,v as yt,g as i,n as we,i as n,k as De,Y as ht,Z as Be,Q as r,$ as Ce,_ as Oe,a0 as K}from"../chunks/wMbewiS5.js";import{e as Se,s as p}from"../chunks/Bk2DADVa.js";import{p as Q,i as I,r as qt,c as C,s as Te,a as Ee,d as Ie}from"../chunks/CKMTEqNt.js";import{a as Ne,c as Re,f as Me,h as Ae,B as Ke,K as ze,e as Ut,i as Wt}from"../chunks/Dewt1X9C.js";import{a as Le,b as Ue,c as We,d as Fe,e as nt,m as Ve,p as Ye,B as at}from"../chunks/Dhve49QR.js";import{g as je}from"../chunks/TTQz2CNN.js";import{C as $t,a as xt,b as Ft,c as Vt}from"../chunks/D3008I5r.js";import{s as Yt}from"../chunks/qJyB_Y1U.js";function jt(W,s,O=!1,N=!1,F=!1){var e=W,x="";z(()=>{var b=he;if(x===(x=s()??"")){Kt&&zt();return}if(b.nodes!==null&&($e(b.nodes.start,b.nodes.end),b.nodes=null),x!==""){if(Kt){Lt.data;for(var _=zt(),S=_;_!==null&&(_.nodeType!==xe||_.data!=="");)S=_,_=be(_);if(_===null)throw ye(),Pe;At(Lt,S),e=ke(_);return}var y=x+"";O?y=`<svg>${y}</svg>`:N&&(y=`<math>${y}</math>`);var w=me(y);if((O||N)&&(w=it(w)),At(it(w),w.lastChild),O||N)for(;it(w);)e.before(it(w));else e.before(w)}})}const qe=We({component:"separator",parts:["root"]});class Pt{static create(s){return new Pt(s)}opts;attachment;constructor(s){this.opts=s,this.attachment=Le(s.ref)}#t=rt(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":this.opts.orientation.current,"aria-hidden":Ue(this.opts.decorative.current),"data-orientation":this.opts.orientation.current,[qe.root]:"",...this.attachment}));get props(){return t(this.#t)}set props(s){j(this.#t,s)}}var Ge=L("<div><!></div>");function He(W,s){const O=ge();bt(s,!0);let N=Q(s,"id",19,()=>Fe(O)),F=Q(s,"ref",15,null),e=Q(s,"decorative",3,!1),x=Q(s,"orientation",3,"horizontal"),b=qt(s,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const _=Pt.create({ref:nt(()=>F(),D=>F(D)),id:nt(()=>N()),decorative:nt(()=>e()),orientation:nt(()=>x())}),S=rt(()=>Ve(b,_.props));var y=$(),w=l(y);{var st=D=>{var R=$(),Z=l(R);Yt(Z,()=>s.child,()=>({props:t(S)})),a(D,R)},X=D=>{var R=Ge();Ne(R,()=>({...t(S)}));var Z=i(R);Yt(Z,()=>s.children??we),n(R),a(D,R)};I(w,D=>{s.child?D(st):D(X,!1)})}a(W,y),yt()}function Qe(W,s){bt(s,!0);let O=Q(s,"ref",15,null),N=Q(s,"data-slot",3,"separator"),F=qt(s,["$$slots","$$events","$$legacy","ref","class","data-slot"]);var e=$(),x=l(e);{let b=rt(()=>Re("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:min-h-full data-[orientation=vertical]:w-px",s.class));C(x,()=>He,(_,S)=>{S(_,Te({get"data-slot"(){return N()},get class(){return t(b)}},()=>F,{get ref(){return O()},set ref(y){O(y)}}))})}a(W,e),yt()}var Xe=L('<div class="text-center py-12 text-muted-foreground">Loading...</div>'),Ze=L('<div class="text-center py-12 text-destructive"> </div>'),Je=L('<div class="flex flex-wrap gap-2"><!> <!> <!></div>'),ta=L('<div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-1 text-sm mb-5 pb-5 border-b border-border"><div><span class="text-muted-foreground">Type:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Module:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Workstream:</span> <span class="ml-1.5"> </span></div> <div><span class="text-muted-foreground">Severity:</span> <span class="ml-1.5"> </span></div></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-4"><div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Owner</div> <div class="text-base font-medium"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Detected By</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Created</div> <div class="text-base"> </div></div> <div><div class="text-xs uppercase tracking-wide text-muted-foreground mb-1">Modified</div> <div class="text-base"> </div></div></div>',1),ea=L("<!> <!>",1),aa=L("<!> <!>",1),ra=L('<div class="mb-8"><div class="text-muted-foreground mb-2"> </div> <h1 class="text-2xl font-bold mb-4"> </h1> <div class="flex flex-wrap gap-2 mb-3"><!> <!></div> <!></div> <!> <!> <!> <!> <div class="text-sm text-muted-foreground"><p>Press <kbd class="px-2 py-1 bg-muted rounded">Esc</kbd> to return to list</p></div>',1),sa=L('<div class="container mx-auto px-4 py-8 max-w-4xl"><!> <!></div> <!>',1);function _a(W,s){bt(s,!0);const O=()=>Ee(Ye,"$page",N),[N,F]=Ie();let e=ht(null),x=ht(!0),b=ht(null);function _(o){return o?new Date(o).toISOString().replace("T"," ").slice(0,19):"-"}function S(o){return o?o.includes("_")?o.split("_")[0]:o:"-"}function y(o){return o?o.includes("1")?"destructive":o.includes("2")?"secondary":"outline":"outline"}function w(o){o.key==="Escape"&&je("/")}De(()=>{const o=parseInt(O().params.id);if(isNaN(o)){j(b,"Invalid defect ID"),j(x,!1);return}Me(o).then(B=>{j(e,B,!0),j(x,!1)}).catch(B=>{j(b,B instanceof Error?B.message:"Failed to load defect",!0),j(x,!1)})});var st=sa();Se("keydown",Ce,w),Ae("11q6om9",o=>{Be(()=>{Oe.title=`${t(e)?`#${t(e).id}: ${t(e).name}`:"Loading..."} - ALM Defects`})});var X=l(st),D=i(X);Ke(D,{variant:"ghost",href:"/",class:"mb-6",children:(o,B)=>{K();var dt=U("â† Back to list");a(o,dt)},$$slots:{default:!0}});var R=r(D,2);{var Z=o=>{var B=Xe();a(o,B)},Gt=o=>{var B=$(),dt=l(B);{var Qt=q=>{var G=Ze(),lt=i(G,!0);n(G),z(()=>p(lt,t(b))),a(q,G)},Xt=q=>{var G=$(),lt=l(G);{var Zt=vt=>{var kt=ra(),ct=l(kt),ft=i(ct),Jt=i(ft);n(ft);var ut=r(ft,2),te=i(ut,!0);n(ut);var _t=r(ut,2),wt=i(_t);{let c=rt(()=>t(e).status==="Open"?"default":"secondary");at(wt,{get variant(){return t(c)},children:(m,T)=>{K();var P=U();z(()=>p(P,t(e).status||"Unknown")),a(m,P)},$$slots:{default:!0}})}var ee=r(wt,2);{let c=rt(()=>y(t(e).priority));at(ee,{get variant(){return t(c)},children:(m,T)=>{K();var P=U();z(()=>p(P,t(e).priority||"No priority")),a(m,P)},$$slots:{default:!0}})}n(_t);var ae=r(_t,2);{var re=c=>{var m=Je(),T=i(m);{var P=d=>{at(d,{variant:"destructive",children:(k,g)=>{K();var v=U();z(f=>p(v,`Blocks: ${f??""}`),[()=>t(e).blocks.join(", ")]),a(k,v)},$$slots:{default:!0}})};I(T,d=>{t(e).blocks&&t(e).blocks.length>0&&d(P)})}var M=r(T,2);{var V=d=>{var k=$(),g=l(k);Ut(g,17,()=>t(e).scenarios,Wt,(v,f)=>{at(v,{variant:"secondary",children:(E,h)=>{K();var u=U();z(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(M,d=>{t(e).scenarios&&t(e).scenarios.length>0&&d(V)})}var J=r(M,2);{var A=d=>{var k=$(),g=l(k);Ut(g,17,()=>t(e).integrations,Wt,(v,f)=>{at(v,{variant:"outline",class:"text-blue-400",children:(E,h)=>{K();var u=U();z(()=>p(u,t(f))),a(E,u)},$$slots:{default:!0}})}),a(d,k)};I(J,d=>{t(e).integrations&&t(e).integrations.length>0&&d(A)})}n(m),a(c,m)};I(ae,c=>{(t(e).scenarios&&t(e).scenarios.length>0||t(e).blocks&&t(e).blocks.length>0||t(e).integrations&&t(e).integrations.length>0)&&c(re)})}n(ct);var Dt=r(ct,2);C(Dt,()=>xt,(c,m)=>{m(c,{class:"mb-8",children:(T,P)=>{var M=$(),V=l(M);C(V,()=>$t,(J,A)=>{A(J,{class:"py-5 px-6",children:(d,k)=>{var g=ta(),v=l(g),f=i(v),E=r(i(f),2),h=i(E,!0);n(E),n(f);var u=r(f,2),H=r(i(u),2),tt=i(H,!0);n(H),n(u);var Y=r(u,2),ot=r(i(Y),2),et=i(ot,!0);n(ot),n(Y);var Ot=r(Y,2),St=r(i(Ot),2),ne=i(St,!0);n(St),n(Ot),n(v);var Tt=r(v,2),pt=i(Tt),Et=r(i(pt),2),de=i(Et,!0);n(Et),n(pt);var mt=r(pt,2),It=r(i(mt),2),le=i(It,!0);n(It),n(mt);var gt=r(mt,2),Nt=r(i(gt),2),ve=i(Nt,!0);n(Nt),n(gt);var Rt=r(gt,2),Mt=r(i(Rt),2),ce=i(Mt,!0);n(Mt),n(Rt),n(Tt),z((fe,ue,_e,pe)=>{p(h,t(e).defect_type||"-"),p(tt,t(e).module||"-"),p(et,t(e).workstream||"-"),p(ne,t(e).severity||"-"),p(de,fe),p(le,ue),p(ve,_e),p(ce,pe)},[()=>S(t(e).owner),()=>S(t(e).detected_by),()=>_(t(e).created).split(" ")[0],()=>_(t(e).modified).split(" ")[0]]),a(d,g)},$$slots:{default:!0}})}),a(T,M)},$$slots:{default:!0}})});var Bt=r(Dt,2);{var se=c=>{var m=$(),T=l(m);C(T,()=>xt,(P,M)=>{M(P,{class:"mb-8",children:(V,J)=>{var A=ea(),d=l(A);C(d,()=>Ft,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);C(u,()=>Vt,(H,tt)=>{tt(H,{children:(Y,ot)=>{K();var et=U("Description");a(Y,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);C(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);jt(u,()=>t(e).description),a(f,h)},$$slots:{default:!0}})}),a(V,A)},$$slots:{default:!0}})}),a(c,m)};I(Bt,c=>{t(e).description&&c(se)})}var Ct=r(Bt,2);{var oe=c=>{var m=$(),T=l(m);C(T,()=>xt,(P,M)=>{M(P,{class:"mb-8",children:(V,J)=>{var A=aa(),d=l(A);C(d,()=>Ft,(g,v)=>{v(g,{children:(f,E)=>{var h=$(),u=l(h);C(u,()=>Vt,(H,tt)=>{tt(H,{children:(Y,ot)=>{K();var et=U("Dev Comments");a(Y,et)},$$slots:{default:!0}})}),a(f,h)},$$slots:{default:!0}})});var k=r(d,2);C(k,()=>$t,(g,v)=>{v(g,{class:"html-content",children:(f,E)=>{var h=$(),u=l(h);jt(u,()=>t(e).dev_comments),a(f,h)},$$slots:{default:!0}})}),a(V,A)},$$slots:{default:!0}})}),a(c,m)};I(Ct,c=>{t(e).dev_comments&&c(oe)})}var ie=r(Ct,2);Qe(ie,{class:"my-6"}),K(2),z(()=>{p(Jt,`#${t(e).id??""}`),p(te,t(e).clean_name||t(e).name)}),a(vt,kt)};I(lt,vt=>{t(e)&&vt(Zt)},!0)}a(q,G)};I(dt,q=>{t(b)?q(Qt):q(Xt,!1)},!0)}a(o,B)};I(R,o=>{t(x)?o(Z):o(Gt,!1)})}n(X);var Ht=r(X,2);ze(Ht,{}),a(W,st),yt(),F()}export{_a as component};
